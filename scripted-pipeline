pipeline {
   agent any
   stages {
   //Declare a global variable for mvnHome


   	stage('Version') { 
            steps{
 		echo "stage-Version"
		echo 'Started by upstream build [0mecdm Â» eCDM Â» ecdm-ui-ng Â» master #1327 generating Maven artifacts: com.emc.dpsg.ecdm.ui:brs-ui:rpm:19.6.0-1-SNAPSHOT(19.6.0-1-20200924.193204-505),com.emc.dpsg.ecdm.ui:brs-ui:zip:upgrader:19.6.0-1-SNAPSHOT(19.6.0-1-20200924.193204-505),com.emc.dpsg.ecdm.ui:brs-ui:rpm:19.6.0-1-SNAPSHOT(19.6.0-1-SNAPSHOT),com.emc.dpsg.ecdm.ui:brs-ui:zip:upgrader:19.6.0-1-SNAPSHOT(19.6.0-1-SNAPSHOT)originally caused by:\n Branch event\nBranch event\nBranch event\nObtained Jenkinsfile from 3f99dce5180a4a052e16e18260082e2c11adb790\nRunning in Durability level: MAX_SURVIVABILITY\nLoading library ecdm@libpipeline-2.9.3\nAttempting to resolve libpipeline-2.9.3 from remote references...\n > git --version # timeout=10\n > git --version # git \nusing GIT_SSH to set credentials svc_dpsgbuild for gitdpsg\n > git ls-remote -h -- ssh://gitdpsg.lss.emc.com/ecdm/ecdm-libpipeline.git # timeout=10\nERROR: Checkout failed\nhudson.plugins.git.GitException: Command "git ls-remote -h -- ssh://gitdpsg.lss.emc.com/ecdm/ecdm-libpipeline.git" returned status code 128:\nstdout: \nstderr: fatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.\n\n	at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2450)\n	at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandWithCredentials(CliGitAPIImpl.java:2051)\n	at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandWithCredentials(CliGitAPIImpl.java:1951)\n	at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandWithCredentials(CliGitAPIImpl.java:1942)\n	at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.getRemoteReferences(CliGitAPIImpl.java:3381)\n	at jenkins.plugins.git.AbstractGitSCMSource.retrieve(AbstractGitSCMSource.java:838)\n	at jenkins.scm.api.SCMSource.fetch(SCMSource.java:636)\n	at org.jenkinsci.plugins.workflow.libs.SCMSourceRetriever.lambda$retrieve$0(SCMSourceRetriever.java:92)\n	at org.jenkinsci.plugins.workflow.libs.SCMSourceRetriever.retrySCMOperation(SCMSourceRetriever.java:107)\n	at org.jenkinsci.plugins.workflow.libs.SCMSourceRetriever.retrieve(SCMSourceRetriever.java:92)\n	at org.jenkinsci.plugins.workflow.libs.LibraryAdder.retrieve(LibraryAdder.java:157)\n	at org.jenkinsci.plugins.workflow.libs.LibraryAdder.add(LibraryAdder.java:138)\n	at org.jenkinsci.plugins.workflow.libs.LibraryDecorator$1.call(LibraryDecorator.java:125)\n	at org.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:1065)\n	at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:603)\n	at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:581)\n	at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:558)\n	at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:298)\n	at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:268)\n	at groovy.lang.GroovyShell.parseClass(GroovyShell.java:688)\n	at groovy.lang.GroovyShell.parse(GroovyShell.java:700)\n	at org.jenkinsci.plugins.workflow.cps.CpsGroovyShell.doParse(CpsGroovyShell.java:142)\n	at org.jenkinsci.plugins.workflow.cps.CpsGroovyShell.reparse(CpsGroovyShell.java:127)\n	at org.jenkinsci.plugins.workflow.cps.CpsFlowExecution.parseScript(CpsFlowExecution.java:571)\n	at org.jenkinsci.plugins.workflow.cps.CpsFlowExecution.start(CpsFlowExecution.java:523)\n	at org.jenkinsci.plugins.workflow.job.WorkflowRun.run(WorkflowRun.java:337)\n	at hudson.model.ResourceController.execute(ResourceController.java:97)\n	at hudson.model.Executor.run(Executor.java:428)\nRetrying after 10 seconds\nAttempting to resolve libpipeline-2.9.3 from remote references...\n'
		sleep(12)
	  //build job: 'version-check'
          }
   	}

   	stage('Environment') {
            steps{
               echo "stage-environment-check"
	       echo "[8mha:////4JXHkpnxQDJq4Sam0QdHrueucAq5JIRqasoPlZy15YBjAAAApR+LCAAAAAAAAP9tjTEOwjAQBC9BFLSUPOIiREGBqNJabniBiY1xYt0Z2yGpeBFf4w8EIlGxxWpnm3m+YJkiHDlabA11jlLjMPjeTgsHjt3F84Atn7FhSuwNSjNI1qaeUXI2MKcoYSFgZajxnBzZDGvRqruqvCJbnXKcvoOA0ukbPKAQkzmrmL8wRthce52Yfp6/AhhDyFBu95/avQG7xuaSvgAAAA==[0m[Pipeline] }\n[8mha:////4MPgv9UesZHtRaYmTi710V6XR+ibAy2RwRzoDD2B1QrtAAAApB+LCAAAAAAAAP9tjTEOwjAQBC9BFLSUPOIiqJAQVVrLDS8wsTFOrDtjOyQVL+Jr/IFAJCq2WO1sM88XLFOEI0eLraHOUWocBt/baeHAsbt4HrDlMzZMib1BaQbJ2tQzSs4G5hQlLASsDDWekyObYS1adVeVV2SrU47TdxBQOn2DBxRiMmcV8xfGCJtrrxPTz/NXAGMIGcrt/lO7N/hEtxS+AAAA[0m[Pipeline] // stage\n[8mha:////4E/rGIy4hqlyzDKUzAmAyo6Gs9hTGmdychE3yNNrw3jUAAAAph+LCAAAAAAAAP9tjTEOwjAUQ3+LOrAycohUHRFiYo2ycILQhJA0+r9NUtKJE3E17kBLJSY8WLYl673eUMUAJwqGOY2dxdha1vvRzIllCt3NU2aOrqwljOQ1EzoLUvq8VkFJw6qihA2HrcbWU7RoEuy4kw9Ze4mmvqQwb0cOpVUDPKHgMznJkL5lCrC/jyoS/jh/ATD1CcqmWeywPKsPrPxt8cIAAAA=[0m[Pipeline] stage\n[8mha:////4B2UkWhd7XdD+RdD3txnppcn7M/vKbhzhE1qQPQ+xnpxAAAApx+LCAAAAAAAAP9tjTEOwjAUQ3+LOrAycogU2BDqxBp14QShCSFp9H9JUtKJE3E17kCgEhMeLNuS9Z4vqIKHhrxmVmFvMHSGDW7UObFEvr84SszSmXWEgZxirUotSXWca0tRwayihAWHpcLOUTCoI6y4FXdRO4G6PkWftwOH0sgbPKDgmRyFj98yeVhfRxkIf5y/AJiGCOV2n223+TyrN7xWSV3CAAAA[0m[Pipeline] { (Environment)\n[8mha:////4CwQSkHHupS01fvbZg9cQBLLxEHFQw5VZU5gIhH3kqRyAAAAox+LCAAAAAAAAP9tjTEOwjAQBC9BFLSUPOICtIgqreWGF5jYGCfWnbEdkooX8TX+QCASFVusdraZ5wuWKcKRo8XWUOcoNQ6D7+20cODYXTwP2PIZG6bE3qA0g2Rt6hklZwNzihIWAlaGGs/Jkc2wFq26q8orstUpx+k7CCidvsEDCjGZs4r5C2OEzbXXienn+SuAMWQo99tP7cIbaOP4NL4AAAA=[0m[Pipeline] echo\nstage-environment-check\n[8mha:////4LCnoDM1Ou6odSvRDIJZIt/pUu56lghYKqYLSETz+u+SAAAAox+LCAAAAAAAAP9tjTEOwjAQBC9BFLSUPOKC0iIqWisNLzCJMXasO8d2cCpexNf4A4FIVGyx2tlmni9YxwBHDhqtot5QbA16N+p5YebQXx1ntHzBlimyU9io3HCnTgs2nBQsKUpYCdgoah1HQzrBVlh5l5WTpKtzCvN3EFCaboAHFGI2JxnSF6YAu9vYRaaf568AJp+grPefqv0bq7DVH74AAAA=[0m[Pipeline] echo\n979a3f02d90: Verifying Checksum\n1979a3f02d90: Download complete\n8b92876d041c: Verifying Checksum\n8b92876d041c: Download complete\n5cebfc9bfe7c: Verifying Checksum\n5cebfc9bfe7c: Download complete\na22fc374abe1: Verifying Checksum\na22fc374abe1: Download complete\n7862d48fd4f6: Download complete\n03a11df9111c: Verifying Checksum\n03a11df9111c: Download complete\n5b8258cf47e9: Verifying Checksum\n5b8258cf47e9: Download complete\n619cc9bb6a93: Verifying Checksum\n619cc9bb6a93: Download complete\n81db7a5373bf: Verifying Checksum\n81db7a5373bf: Download complete\n365119747e5a: Verifying Checksum\nb527dc945d38: Download complete\n8f0e90926262: Download complete\n50d9da981a1c: Verifying Checksum\n50d9da981a1c: Download complete\nba8490316b97: Verifying Checksum\nba8490316b97: Download complete\n5c625b66822f: Download complete\ne1d487c6a4a7: Verifying Checksum\ne1d487c6a4a7: Download complete\n56fe6fcb3249: Verifying Checksum\n56fe6fcb3249: Download complete\nf0789d87210a: Pull complete\nd2592515b676: Verifying Checksum\nd2592515b676: Download complete\ne4956de8746b: Download complete\nd8eb7746a31c: Pull complete\n49c3e534ee5a: Pull complete\nda3c4712885a: Verifying Checksum\nda3c4712885a: Download complete\n089d160d0c9a: Pull complete\n13d007220599: Pull complete\n5683fc1844f3: Verifying Checksum\n5683fc1844f3: Download complete\n8c00a1d145b8: Pull complete\nd2592515b676: Pull complete\nf6feeec10614: Pull complete\nc57050fca7f4: Pull complete\nb6c5180accd1: Pull complete\nda4c8f245dfe: Pull complete\n95a0763bbfce: Pull complete\ncd6c967d60b3: Pull complete\n[8mha:////4E8+oOkIt8UXe4lAEq/X2wxpSm7E6UB8aWWDZaVvGDYnAAAAox+LCAAAAAAAAP9tjTEOwjAQBC9BFLSUPOKCoERUaS03vMDExjix7oztkFS8iK/xBwKRqNhitbPNPF+wTBGOHC22hjpHqXEYfG+nhQPH7uJ5wJbP2DAl9galGSRrU88oORuYU5SwELAy1HhOjmyGtWjVXVVeka1OOU7fQUDp9A0eUIjJnFXMXxgjbK69Tkw/z18BjCFDudt+ah/e6oHOBr4AAAA=[0m[Pipeline] sleep\n[8mha:////4JXHkpnxQDJq4Sam0QdHrueucAq5JIRqasoPlZy15YBjAAAApR+LCAAAAAAAAP9tjTEOwjAQBC9BFLSUPOIiREGBqNJabniBiY1xYt0Z2yGpeBFf4w8EIlGxxWpnm3m+YJkiHDlabA11jlLjMPjeTgsHjt3F84Atn7FhSuwNSjNI1qaeUXI2MKcoYSFgZajxnBzZDGvRqruqvCJbnXKcvoOA0ukbPKAQkzmrmL8wRthce52Yfp6/AhhDyFBu95/avQG7xuaSvgAAAA==[0m[Pipeline] }\n[8mha:////4MPgv9UesZHtRaYmTi710V6XR+ibAy2RwRzoDD2B1QrtAAAApB+LCAAAAAAAAP9tjTEOwjAQBC9BFLSUPOIiqJAQVVrLDS8wsTFOrDtjOyQVL+Jr/IFAJCq2WO1sM88XLFOEI0eLraHOUWocBt/baeHAsbt4HrDlMzZMib1BaQbJ2tQzSs4G5hQlLASsDDWekyObYS1adVeVV2SrU47TdxBQOn2DBxRiMmcV8xfGCJtrrxPTz/NXAGMIGcrt/lO7N/hEtxS+AAAA[0m[Pipeline] // stage\n[8mha:////4E/rGIy4hqlyzDKUzAmAyo6Gs9hTGmdychE3yNNrw3jUAAAAph+LCAAAAAAAAP9tjTEOwjAUQ3+LOrAycohUHRFiYo2ycILQhJA0+r9NUtKJE3E17kBLJSY8WLYl673eUMUAJwqGOY2dxdha1vvRzIllCt3NU2aOrqwljOQ1EzoLUvq8VkFJw6qihA2HrcbWU7RoEuy4kw9Ze4mmvqQwb0cOpVUDPKHgMznJkL5lCrC/jyoS/jh/ATD1CcqmWeywPKsPrPxt8cIAAAA=[0m[Pipeline] stage\n[8mha:////4B2UkWhd7XdD+RdD3txnppcn7M/vKbhzhE1qQPQ+xnpxAAAApx+LCAAAAAAAAP9tjTEOwjAUQ3+LOrAycogU2BDqxBp14QShCSFp9H9JUtKJE3E17kCgEhMeLNuS9Z4vqIKHhrxmVmFvMHSGDW7UObFEvr84SszSmXWEgZxirUotSXWca0tRwayihAWHpcLOUTCoI6y4FXdRO4G6PkWftwOH0sgbPKDgmRyFj98yeVhfRxkIf5y/AJiGCOV2n223+TyrN7xWSV3CAAAA[0m[Pipeline] { (Environment)\n[8mha:////4CwQSkHHupS01fvbZg9cQBLLxEHFQw5VZU5gIhH3kqRyAAAAox+LCAAAAAAAAP9tjTEOwjAQBC9BFLSUPOICtIgqreWGF5jYGCfWnbEdkooX8TX+QCASFVusdraZ5wuWKcKRo8XWUOcoNQ6D7+20cODYXTwP2PIZG6bE3qA0g2Rt6hklZwNzihIWAlaGGs/Jkc2wFq26q8orstUpx+k7CCidvsEDCjGZs4r5C2OEzbXXienn+SuAMWQo99tP7cIbaOP4NL4AAAA=[0m[Pipeline] echo\nstage-environment-check\n[8mha:////4LCnoDM1Ou6odSvRDIJZIt/pUu56lghYKqYLSETz+u+SAAAAox+LCAAAAAAAAP9tjTEOwjAQBC9BFLSUPOKC0iIqWisNLzCJMXasO8d2cCpexNf4A4FIVGyx2tlmni9YxwBHDhqtot5QbA16N+p5YebQXx1ntHzBlimyU9io3HCnTgs2nBQsKUpYCdgoah1HQzrBVlh5l5WTpKtzCvN3EFCaboAHFGI2JxnSF6YAu9vYRaaf568AJp+grPefqv0bq7DVH74AAAA=[0m[Pipeline] echo\n979a3f02d90: Verifying Checksum\n1979a3f02d90: Download complete\n8b92876d041c: Verifying Checksum\n8b92876d041c: Download complete\n5cebfc9bfe7c: Verifying Checksum\n5cebfc9bfe7c: Download complete\na22fc374abe1: Verifying Checksum\na22fc374abe1: Download complete\n7862d48fd4f6: Download complete\n03a11df9111c: Verifying Checksum\n03a11df9111c: Download complete\n5b8258cf47e9: Verifying Checksum\n5b8258cf47e9: Download complete\n619cc9bb6a93: Verifying Checksum\n619cc9bb6a93: Download complete\n81db7a5373bf: Verifying Checksum\n81db7a5373bf: Download complete\n365119747e5a: Verifying Checksum\nb527dc945d38: Download complete\n8f0e90926262: Download complete0d9da981a1c: Verifying Checksum\n50d9da981a1c: Download complete\nba8490316b97: Verifying Checksum\nba8490316b97: Download complete\n5c625b66822f: Download complete\ne1d487c6a4a7: Verifying Checksum\ne1d487c6a4a7: Download complete\n56fe6fcb3249: Verifying Checksum\n56fe6fcb3249: Download complete\nf0789d87210a: Pull complete\nd2592515b676: Verifying Checksum\nd2592515b676: Download complete\ne4956de8746b: Download complete\nd8eb7746a31c: Pull complete\n49c3e534ee5a: Pull complete\nda3c4712885a: Verifying Checksum\nda3c4712885a: Download complete\n089d160d0c9a: Pull complete\n13d007220599: Pull complete\n5683fc1844f3: Verifying Checksum\n5683fc1844f3: Download complete\n8c00a1d145b8: Pull complete\nd2592515b676: Pull complete\nf6feeec10614: Pull complete\nc57050fca7f4: Pull complete\nb6c5180accd1: Pull complete\nda4c8f245dfe: Pull complete\n95a0763bbfce: Pull complete\ncd6c967d60b3: Pull complete\n[8mha:////4E8+oOkIt8UXe4lAEq/X2wxpSm7E6UB8aWWDZaVvGDYnAAAAox+LCAAAAAAAAP9tjTEOwjAQBC9BFLSUPOKCoERUaS03vMDExjix7oztkFS8iK/xBwKRqNhitbPNPF+wTBGOHC22hjpHqXEYfG+nhQPH7uJ5wJbP2DAl9galGSRrU88oORuYU5SwELAy1HhOjmyGtWjVXVVeka1OOU7fQUDp9A0eUIjJnFXMXxgjbK69Tkw/z18BjCFDudt+ah/e6oHOBr4AAAA=[0m[Pipeline] sleep"
	       sleep(10)
       		// build job: 'environment-check'
          }
   	} 

   	stage('Document') {
           steps{
	   	echo "stage-document"
                echo '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<build-metadata>\n<groupId>com.emc.dpsg.ecdm.installer</groupId>\n<artifactId>dellemc-ppdm-sw</artifactId>\n<version>19.6.0-1-SNAPSHOT-879</version>\n<scmUrl>scm:git:ssh://gitdpsg.lss.emc.com/ecdm/ecdm.git/installer/dellemc-ppdm-sw/../..</scmUrl>\n<scmTag>HEAD</scmTag>\n<scmRevision>ba90790f62efa8e999bdb67fac9014d9d7d86478</scmRevision>\n<dependency>\n    <groupId>com.emc.dpsg.ecdm.ui</groupId>\n    <artifactId>brs-ui</artifactId>\n    <version>19.6.0-1-SNAPSHOT-263</version>\n    <scmUrl>scm:git:ssh://gitdpsg.lss.emc.com/ecdm/ecdm-ui-ng.git/brs-ui</scmUrl>\n    <scmTag>HEAD</scmTag>\n    <scmRevision>9e2d0634bc64b572ada0299139c28091befa76d0</scmRevision>\n</dependency>\n<dependency>\n    <groupId>com.emc.dpsg.vproxy.k8s</groupId>\n    <artifactId>docker-controller</artifactId>\n    <version>19.6.0-1-SNAPSHOT</version>\n    <scmUrl>scm:git:ssh://gitdpsg.lss.emc.com/vproxy/vproxy-kubernetes.git/docker/docker-controller/../..</scmUrl>\n    <scmTag>HEAD</scmTag>\n    <scmRevision>a7fa6f5af36a1aafa65671d4c1fc18e5922bc9a6</scmRevision>\n</dependency>\n<dependency>\n    <groupId>com.emc.dpsg.search.install</groupId>\n    <artifactId>search-vmdk</artifactId>\n    <version>19.6.0-1-SNAPSHOT</version>\n    <scmUrl>scm:git:ssh://gitdpsg.lss.emc.com/vproxy/search.git/search-install/search-vmdk/../..</scmUrl>\n    <scmTag>HEAD</scmTag>\n    <scmRevision>a7dcc602c62a4a74a1a2c71fc43198df47a8ce98</scmRevision>\n</dependency>\n<dependency>\n    <groupId>com.emc.dpd</groupId>\n    <artifactId>appagent</artifactId>\n    <version>19.6-1-SNAPSHOT-6</version>\n    <scmUrl>scm:git://gitdpsg.lss.emc.com/ecdm/thirdparty.git/emc/appagent</scmUrl>\n    <scmTag>HEAD</scmTag>\n    <scmRevision>1110</scmRevision>\n</dependency>\n<dependency>\n    <groupId>com.emc.dpsg.vproxy</groupId>\n    <artifactId>vproxy-vmdk</artifactId>\n    <version>19.6.0-1-SNAPSHOT-68</version>\n    <scmUrl>scm:p4:ssl:p4brsb.lss.emc.com:1666://VT/vproxy/main/vproxy-ova/vproxy-vmdk/../..</scmUrl>\n    <scmTag>HEAD</scmTag>\n    <scmRevision>862983</scmRevision>\n</dependency>\n</build-metadata>\n'
                //sh 'ls -l build.xml'
                //sh 'cat build.xml'
          }
	 	 //build job: 'document-roshambo', parameters: [booleanParam(name: 'generate_javadoc', value: false), stringParam(name: 'javadoc_location', value: 'C:\\_javadoc00')]

   	}

   	stage('Compile'){
             steps{
               echo "stage-compile-roshambo"
	       sleep(12)
          }
       	// build job: 'compile-roshambo'
   	}
   
   	stage('Acceptance') {
            steps{
               echo "stage-Acceptance"
	       sleep(112)
          }
         	//def response = input message: 'UAT Tests',   parameters: [choice(choices: 'Pass\nFail', description: 'Proceed or Abort?', name: 'Pass or Fail?')]

   	}
   
   	stage('Conclusion') {
	     steps{
              echo "stage-Coclusioon"
	      echo env.WORKSPACE
             }
     	// def response = input message: 'Whatcha think?', parameters: [choice(choices: 'Yes\nNo', description: 'Proceed or Abort?', name: 'Wasn\'t that cool?')]
        
     	// if (response=="Yes") {
     	//    echo "I agree!"
     	// } else {
     	//    echo "You are hard to please."
     	//
     	// }
    }
   }
   post{
        always{
             echo "stage-post actions"
	     sleep(7)
             deleteDir()
         }
    }
}
